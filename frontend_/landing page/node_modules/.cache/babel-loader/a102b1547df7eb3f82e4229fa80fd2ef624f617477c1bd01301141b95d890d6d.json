{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sriam\\\\guardiannet-frontend\\\\src\\\\pages\\\\responder\\\\ResponderIncidentPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport { responderAPI } from '../../services/api';\nimport { responderWebSocket, commonWebSocket } from '../../services/websocket';\nimport useGeolocation from '../../hooks/useGeolocation';\nimport { ResponderMap } from '../../components/MapView';\nimport Spinner, { InlineSpinner } from '../../components/Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ResponderIncidentPage = () => {\n  _s();\n  var _incident$location, _incident$location2, _incident$location3, _incident$location4, _incident$location5, _incident$location6, _incident$location7;\n  const {\n    incidentId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    logout,\n    token,\n    role\n  } = useAuth();\n\n  // Location tracking\n  const {\n    location,\n    watchPosition,\n    clearWatch\n  } = useGeolocation();\n\n  // State\n  const [incident, setIncident] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [connectionStatus, setConnectionStatus] = useState(false);\n  const [currentStatus, setCurrentStatus] = useState('en_route');\n  const [notes, setNotes] = useState('');\n  const [isUpdating, setIsUpdating] = useState(false);\n\n  // Load incident data\n  useEffect(() => {\n    if (token && role === 'responder' && incidentId) {\n      responderWebSocket.connect(token, role);\n      loadIncidentDetails();\n\n      // Start location tracking\n      watchPosition();\n\n      // WebSocket listeners\n      const unsubscribeConnection = commonWebSocket.on('connection_status', status => {\n        setConnectionStatus(status.connected);\n      });\n      const unsubscribeIncidentUpdate = responderWebSocket.onIncidentUpdate(update => {\n        if (update.incidentId === incidentId) {\n          setIncident(prev => ({\n            ...prev,\n            ...update\n          }));\n        }\n      });\n      return () => {\n        unsubscribeConnection();\n        unsubscribeIncidentUpdate();\n        clearWatch();\n      };\n    }\n  }, [token, role, incidentId, watchPosition, clearWatch]);\n\n  // Send location updates\n  useEffect(() => {\n    if (location.latitude && location.longitude && connectionStatus) {\n      commonWebSocket.updateLocation(location);\n    }\n  }, [location, connectionStatus]);\n\n  // Load incident details\n  const loadIncidentDetails = async () => {\n    try {\n      setIsLoading(true);\n      const incidentData = await responderAPI.getIncidentDetails(incidentId);\n      setIncident(incidentData);\n      setCurrentStatus(incidentData.status || 'en_route');\n    } catch (error) {\n      console.error('Failed to load incident:', error);\n      alert('Failed to load incident details.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Update incident status\n  const updateIncidentStatus = async status => {\n    if (isUpdating) return;\n    try {\n      setIsUpdating(true);\n      await responderAPI.updateIncidentStatus(incidentId, status, notes);\n      responderWebSocket.updateIncidentStatus(incidentId, status, notes);\n      setCurrentStatus(status);\n      setIncident(prev => ({\n        ...prev,\n        status\n      }));\n      setNotes('');\n      if (status === 'completed') {\n        alert('Incident marked as completed!');\n        navigate('/responder/dashboard');\n      }\n    } catch (error) {\n      console.error('Failed to update incident status:', error);\n      alert('Failed to update incident status.');\n    } finally {\n      setIsUpdating(false);\n    }\n  };\n  const handleLogout = () => {\n    commonWebSocket.disconnect();\n    logout();\n  };\n  const formatTime = timestamp => {\n    if (!timestamp) return 'Unknown';\n    return new Date(timestamp).toLocaleTimeString();\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(InlineSpinner, {\n        text: \"Loading incident details...\",\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this);\n  }\n  if (!incident) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-4\",\n          children: \"Incident not found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/responder/dashboard'),\n          className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",\n          children: \"Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-white shadow-sm border-b\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center h-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate('/responder/dashboard'),\n              className: \"mr-4 text-gray-400 hover:text-gray-600\",\n              children: \"\\u2190 Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl text-blue-600\",\n                children: \"\\uD83D\\uDE91\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-xl font-semibold text-gray-900\",\n                children: [\"Incident #\", incident.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Emergency Response\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-2 h-2 rounded-full mr-2 ${connectionStatus ? 'bg-green-500' : 'bg-red-500'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: connectionStatus ? 'Connected' : 'Disconnected'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-700 mr-3\",\n              children: (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.email)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogout,\n              className: \"text-sm text-red-600 hover:text-red-500\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-medium text-gray-900 mb-4\",\n              children: \"Incident Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-700\",\n                  children: \"Priority: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 rounded text-xs font-medium ${incident.priority === 'high' ? 'bg-red-100 text-red-800' : incident.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`,\n                  children: incident.priority || 'Medium'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-700\",\n                  children: \"Status: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 rounded text-xs font-medium ${currentStatus === 'en_route' ? 'bg-blue-100 text-blue-800' : currentStatus === 'on_scene' ? 'bg-purple-100 text-purple-800' : 'bg-green-100 text-green-800'}`,\n                  children: currentStatus.replace('_', ' ').toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-700\",\n                  children: \"Reported: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600\",\n                  children: formatTime(incident.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-700\",\n                  children: \"Location: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600\",\n                  children: ((_incident$location = incident.location) === null || _incident$location === void 0 ? void 0 : _incident$location.address) || 'Address unavailable'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), incident.description && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-700 block mb-1\",\n                  children: \"Description:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600 bg-gray-50 p-3 rounded\",\n                  children: incident.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-medium text-gray-900 mb-4\",\n              children: \"Update Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Current Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: currentStatus,\n                  onChange: e => setCurrentStatus(e.target.value),\n                  className: \"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"en_route\",\n                    children: \"En Route\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"on_scene\",\n                    children: \"On Scene\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"completed\",\n                    children: \"Completed\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Notes (Optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: notes,\n                  onChange: e => setNotes(e.target.value),\n                  rows: 3,\n                  placeholder: \"Add any notes about the incident...\",\n                  className: \"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => updateIncidentStatus(currentStatus),\n                disabled: isUpdating,\n                className: `w-full py-2 px-4 rounded font-medium ${isUpdating ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700'} text-white`,\n                children: isUpdating ? /*#__PURE__*/_jsxDEV(Spinner, {\n                  color: \"white\",\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 33\n                }, this) : 'Update Status'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-medium text-gray-900 mb-4\",\n              children: \"Location & Navigation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ResponderMap, {\n              incidents: [{\n                id: incident.id,\n                lat: ((_incident$location2 = incident.location) === null || _incident$location2 === void 0 ? void 0 : _incident$location2.latitude) || 40.7128,\n                lng: ((_incident$location3 = incident.location) === null || _incident$location3 === void 0 ? void 0 : _incident$location3.longitude) || -74.0060,\n                priority: incident.priority,\n                description: incident.description\n              }],\n              center: [((_incident$location4 = incident.location) === null || _incident$location4 === void 0 ? void 0 : _incident$location4.latitude) || 40.7128, ((_incident$location5 = incident.location) === null || _incident$location5 === void 0 ? void 0 : _incident$location5.longitude) || -74.0060],\n              zoom: 15,\n              height: \"400px\",\n              showCurrentLocation: true,\n              currentLocation: location,\n              className: \"rounded-lg overflow-hidden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this), ((_incident$location6 = incident.location) === null || _incident$location6 === void 0 ? void 0 : _incident$location6.latitude) && ((_incident$location7 = incident.location) === null || _incident$location7 === void 0 ? void 0 : _incident$location7.longitude) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 pt-4 border-t\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `https://www.google.com/maps/dir/?api=1&destination=${incident.location.latitude},${incident.location.longitude}`,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"w-full inline-flex justify-center items-center px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\",\n                children: \"\\uD83D\\uDDFA\\uFE0F Open in Google Maps\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\n_s(ResponderIncidentPage, \"wCwy4zrwK+w+uV128yKOK/vNI3o=\", false, function () {\n  return [useParams, useNavigate, useAuth, useGeolocation];\n});\n_c = ResponderIncidentPage;\nexport default ResponderIncidentPage;\nvar _c;\n$RefreshReg$(_c, \"ResponderIncidentPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useAuth","responderAPI","responderWebSocket","commonWebSocket","useGeolocation","ResponderMap","Spinner","InlineSpinner","jsxDEV","_jsxDEV","ResponderIncidentPage","_s","_incident$location","_incident$location2","_incident$location3","_incident$location4","_incident$location5","_incident$location6","_incident$location7","incidentId","navigate","user","logout","token","role","location","watchPosition","clearWatch","incident","setIncident","isLoading","setIsLoading","connectionStatus","setConnectionStatus","currentStatus","setCurrentStatus","notes","setNotes","isUpdating","setIsUpdating","connect","loadIncidentDetails","unsubscribeConnection","on","status","connected","unsubscribeIncidentUpdate","onIncidentUpdate","update","prev","latitude","longitude","updateLocation","incidentData","getIncidentDetails","error","console","alert","updateIncidentStatus","handleLogout","disconnect","formatTime","timestamp","Date","toLocaleTimeString","className","children","text","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","id","name","email","priority","replace","toUpperCase","createdAt","address","description","value","onChange","e","target","rows","placeholder","disabled","color","incidents","lat","lng","center","zoom","height","showCurrentLocation","currentLocation","href","rel","_c","$RefreshReg$"],"sources":["C:/Users/sriam/guardiannet-frontend/src/pages/responder/ResponderIncidentPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { responderAPI } from '../../services/api';\r\nimport { responderWebSocket, commonWebSocket } from '../../services/websocket';\r\nimport useGeolocation from '../../hooks/useGeolocation';\r\nimport { ResponderMap } from '../../components/MapView';\r\nimport Spinner, { InlineSpinner } from '../../components/Spinner';\r\n\r\nconst ResponderIncidentPage = () => {\r\n  const { incidentId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user, logout, token, role } = useAuth();\r\n  \r\n  // Location tracking\r\n  const { location, watchPosition, clearWatch } = useGeolocation();\r\n\r\n  // State\r\n  const [incident, setIncident] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [connectionStatus, setConnectionStatus] = useState(false);\r\n  const [currentStatus, setCurrentStatus] = useState('en_route');\r\n  const [notes, setNotes] = useState('');\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n\r\n  // Load incident data\r\n  useEffect(() => {\r\n    if (token && role === 'responder' && incidentId) {\r\n      responderWebSocket.connect(token, role);\r\n      loadIncidentDetails();\r\n      \r\n      // Start location tracking\r\n      watchPosition();\r\n      \r\n      // WebSocket listeners\r\n      const unsubscribeConnection = commonWebSocket.on('connection_status', (status) => {\r\n        setConnectionStatus(status.connected);\r\n      });\r\n      \r\n      const unsubscribeIncidentUpdate = responderWebSocket.onIncidentUpdate((update) => {\r\n        if (update.incidentId === incidentId) {\r\n          setIncident(prev => ({ ...prev, ...update }));\r\n        }\r\n      });\r\n      \r\n      return () => {\r\n        unsubscribeConnection();\r\n        unsubscribeIncidentUpdate();\r\n        clearWatch();\r\n      };\r\n    }\r\n  }, [token, role, incidentId, watchPosition, clearWatch]);\r\n\r\n  // Send location updates\r\n  useEffect(() => {\r\n    if (location.latitude && location.longitude && connectionStatus) {\r\n      commonWebSocket.updateLocation(location);\r\n    }\r\n  }, [location, connectionStatus]);\r\n\r\n  // Load incident details\r\n  const loadIncidentDetails = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const incidentData = await responderAPI.getIncidentDetails(incidentId);\r\n      setIncident(incidentData);\r\n      setCurrentStatus(incidentData.status || 'en_route');\r\n    } catch (error) {\r\n      console.error('Failed to load incident:', error);\r\n      alert('Failed to load incident details.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Update incident status\r\n  const updateIncidentStatus = async (status) => {\r\n    if (isUpdating) return;\r\n    \r\n    try {\r\n      setIsUpdating(true);\r\n      await responderAPI.updateIncidentStatus(incidentId, status, notes);\r\n      responderWebSocket.updateIncidentStatus(incidentId, status, notes);\r\n      \r\n      setCurrentStatus(status);\r\n      setIncident(prev => ({ ...prev, status }));\r\n      setNotes('');\r\n      \r\n      if (status === 'completed') {\r\n        alert('Incident marked as completed!');\r\n        navigate('/responder/dashboard');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to update incident status:', error);\r\n      alert('Failed to update incident status.');\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    commonWebSocket.disconnect();\r\n    logout();\r\n  };\r\n\r\n  const formatTime = (timestamp) => {\r\n    if (!timestamp) return 'Unknown';\r\n    return new Date(timestamp).toLocaleTimeString();\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <InlineSpinner text=\"Loading incident details...\" size=\"large\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!incident) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-gray-600 mb-4\">Incident not found</p>\r\n          <button\r\n            onClick={() => navigate('/responder/dashboard')}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n          >\r\n            Back to Dashboard\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <header className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center h-16\">\r\n            <div className=\"flex items-center\">\r\n              <button\r\n                onClick={() => navigate('/responder/dashboard')}\r\n                className=\"mr-4 text-gray-400 hover:text-gray-600\"\r\n              >\r\n                ‚Üê Back\r\n              </button>\r\n              <div className=\"flex-shrink-0\">\r\n                <span className=\"text-2xl text-blue-600\">üöë</span>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <h1 className=\"text-xl font-semibold text-gray-900\">Incident #{incident.id}</h1>\r\n                <p className=\"text-sm text-gray-500\">Emergency Response</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"flex items-center\">\r\n                <div className={`w-2 h-2 rounded-full mr-2 ${connectionStatus ? 'bg-green-500' : 'bg-red-500'}`}></div>\r\n                <span className=\"text-sm text-gray-600\">\r\n                  {connectionStatus ? 'Connected' : 'Disconnected'}\r\n                </span>\r\n              </div>\r\n              <span className=\"text-sm text-gray-700 mr-3\">{user?.name || user?.email}</span>\r\n              <button onClick={handleLogout} className=\"text-sm text-red-600 hover:text-red-500\">\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n          \r\n          {/* Left Column - Incident Details */}\r\n          <div className=\"space-y-6\">\r\n            \r\n            {/* Incident Info */}\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Incident Details</h2>\r\n              <div className=\"space-y-3\">\r\n                <div>\r\n                  <span className=\"text-sm font-medium text-gray-700\">Priority: </span>\r\n                  <span className={`px-2 py-1 rounded text-xs font-medium ${\r\n                    incident.priority === 'high' ? 'bg-red-100 text-red-800' :\r\n                    incident.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' :\r\n                    'bg-green-100 text-green-800'\r\n                  }`}>\r\n                    {incident.priority || 'Medium'}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span className=\"text-sm font-medium text-gray-700\">Status: </span>\r\n                  <span className={`px-2 py-1 rounded text-xs font-medium ${\r\n                    currentStatus === 'en_route' ? 'bg-blue-100 text-blue-800' :\r\n                    currentStatus === 'on_scene' ? 'bg-purple-100 text-purple-800' :\r\n                    'bg-green-100 text-green-800'\r\n                  }`}>\r\n                    {currentStatus.replace('_', ' ').toUpperCase()}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span className=\"text-sm font-medium text-gray-700\">Reported: </span>\r\n                  <span className=\"text-sm text-gray-600\">{formatTime(incident.createdAt)}</span>\r\n                </div>\r\n                <div>\r\n                  <span className=\"text-sm font-medium text-gray-700\">Location: </span>\r\n                  <span className=\"text-sm text-gray-600\">{incident.location?.address || 'Address unavailable'}</span>\r\n                </div>\r\n                {incident.description && (\r\n                  <div>\r\n                    <span className=\"text-sm font-medium text-gray-700 block mb-1\">Description:</span>\r\n                    <p className=\"text-sm text-gray-600 bg-gray-50 p-3 rounded\">{incident.description}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Status Update */}\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Update Status</h2>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Current Status\r\n                  </label>\r\n                  <select\r\n                    value={currentStatus}\r\n                    onChange={(e) => setCurrentStatus(e.target.value)}\r\n                    className=\"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  >\r\n                    <option value=\"en_route\">En Route</option>\r\n                    <option value=\"on_scene\">On Scene</option>\r\n                    <option value=\"completed\">Completed</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Notes (Optional)\r\n                  </label>\r\n                  <textarea\r\n                    value={notes}\r\n                    onChange={(e) => setNotes(e.target.value)}\r\n                    rows={3}\r\n                    placeholder=\"Add any notes about the incident...\"\r\n                    className=\"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                </div>\r\n                \r\n                <button\r\n                  onClick={() => updateIncidentStatus(currentStatus)}\r\n                  disabled={isUpdating}\r\n                  className={`w-full py-2 px-4 rounded font-medium ${\r\n                    isUpdating \r\n                      ? 'bg-gray-400 cursor-not-allowed' \r\n                      : 'bg-blue-600 hover:bg-blue-700'\r\n                  } text-white`}\r\n                >\r\n                  {isUpdating ? <Spinner color=\"white\" size=\"small\" /> : 'Update Status'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right Column - Map */}\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Location & Navigation</h2>\r\n              \r\n              <ResponderMap\r\n                incidents={[{\r\n                  id: incident.id,\r\n                  lat: incident.location?.latitude || 40.7128,\r\n                  lng: incident.location?.longitude || -74.0060,\r\n                  priority: incident.priority,\r\n                  description: incident.description\r\n                }]}\r\n                center={[\r\n                  incident.location?.latitude || 40.7128,\r\n                  incident.location?.longitude || -74.0060\r\n                ]}\r\n                zoom={15}\r\n                height=\"400px\"\r\n                showCurrentLocation={true}\r\n                currentLocation={location}\r\n                className=\"rounded-lg overflow-hidden\"\r\n              />\r\n              \r\n              {incident.location?.latitude && incident.location?.longitude && (\r\n                <div className=\"mt-4 pt-4 border-t\">\r\n                  <a\r\n                    href={`https://www.google.com/maps/dir/?api=1&destination=${incident.location.latitude},${incident.location.longitude}`}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"w-full inline-flex justify-center items-center px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\"\r\n                  >\r\n                    üó∫Ô∏è Open in Google Maps\r\n                  </a>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResponderIncidentPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}