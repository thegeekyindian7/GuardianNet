{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sriam\\\\guardiannet-frontend\\\\src\\\\pages\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport AuthInput from '../components/AuthInput';\nimport Spinner, { ButtonSpinner } from '../components/Spinner';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    login,\n    isAuthenticated,\n    isLoading,\n    error,\n    clearError\n  } = useAuth();\n\n  // Form state\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    role: 'citizen'\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Redirect if already authenticated\n  useEffect(() => {\n    if (isAuthenticated && !isLoading) {\n      var _location$state, _location$state$from;\n      const from = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : (_location$state$from = _location$state.from) === null || _location$state$from === void 0 ? void 0 : _location$state$from.pathname;\n      const role = localStorage.getItem('guardiannet_role');\n\n      // Redirect based on role\n      if (from) {\n        navigate(from);\n      } else {\n        switch (role) {\n          case 'citizen':\n            navigate('/citizen/sos');\n            break;\n          case 'responder':\n            navigate('/responder/dashboard');\n            break;\n          case 'hospital':\n            navigate('/hospital/dashboard');\n            break;\n          default:\n            navigate('/');\n        }\n      }\n    }\n  }, [isAuthenticated, isLoading, navigate, location]);\n\n  // Handle input changes\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear field-specific error\n    if (formErrors[name]) {\n      setFormErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n\n    // Clear general error\n    if (error) {\n      clearError();\n    }\n  };\n\n  // Handle role selection\n  const handleRoleChange = role => {\n    setFormData(prev => ({\n      ...prev,\n      role\n    }));\n    clearError();\n  };\n\n  // Form validation\n  const validateForm = () => {\n    const errors = {};\n    if (!formData.email) {\n      errors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      errors.email = 'Email is invalid';\n    }\n    if (!formData.password) {\n      errors.password = 'Password is required';\n    } else if (formData.password.length < 6) {\n      errors.password = 'Password must be at least 6 characters';\n    }\n    if (!formData.role) {\n      errors.role = 'Please select a role';\n    }\n    return errors;\n  };\n\n  // Handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const errors = validateForm();\n    if (Object.keys(errors).length > 0) {\n      setFormErrors(errors);\n      return;\n    }\n    setIsSubmitting(true);\n    setFormErrors({});\n    try {\n      const result = await login(formData.email, formData.password, formData.role);\n      if (result.success) {\n        // Navigation will be handled by the useEffect hook\n        console.log('Login successful');\n      }\n    } catch (err) {\n      console.error('Login error:', err);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Role options\n  const roleOptions = [{\n    value: 'citizen',\n    label: 'Citizen',\n    description: 'Report emergencies and track response'\n  }, {\n    value: 'responder',\n    label: 'Emergency Responder',\n    description: 'Receive and respond to emergency alerts'\n  }, {\n    value: 'hospital',\n    label: 'Hospital Staff',\n    description: 'Manage resources and incoming patients'\n  }];\n\n  // Show loading spinner while checking authentication\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        size: \"large\",\n        text: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md w-full space-y-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-auto h-20 w-20 bg-red-600 rounded-full flex items-center justify-center mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-3xl text-white\",\n            children: \"\\uD83D\\uDEA8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold text-gray-900 mb-2\",\n          children: \"GuardianNet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-gray-600\",\n          children: \"Unified Emergency Response System\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 mt-2\",\n          children: \"Sign in to access your portal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-xl rounded-lg p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-3\",\n              children: [\"Select your role \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: roleOptions.map(option => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `\n                      relative rounded-lg border-2 p-4 cursor-pointer transition-all\n                      ${formData.role === option.value ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}\n                    `,\n                onClick: () => handleRoleChange(option.value),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center h-5\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      name: \"role\",\n                      value: option.value,\n                      checked: formData.role === option.value,\n                      onChange: () => handleRoleChange(option.value),\n                      className: \"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ml-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"text-sm font-medium text-gray-900 cursor-pointer\",\n                      children: option.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500 mt-1\",\n                      children: option.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 21\n                }, this)\n              }, option.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), formErrors.role && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-red-600\",\n              children: formErrors.role\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AuthInput, {\n            label: \"Email Address\",\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Enter your email\",\n            value: formData.email,\n            onChange: handleInputChange,\n            error: formErrors.email,\n            required: true,\n            disabled: isSubmitting\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AuthInput, {\n            label: \"Password\",\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Enter your password\",\n            value: formData.password,\n            onChange: handleInputChange,\n            error: formErrors.password,\n            required: true,\n            disabled: isSubmitting\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-50 border border-red-200 rounded-md p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-shrink-0\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-400\",\n                  children: \"\\u26A0\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-medium text-red-800\",\n                  children: \"Login Failed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-red-700 mt-1\",\n                  children: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isSubmitting,\n            className: `\n                w-full flex justify-center items-center py-3 px-4 border border-transparent \n                rounded-md shadow-sm text-sm font-medium text-white \n                transition-colors duration-200\n                ${isSubmitting ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500'}\n              `,\n            children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(ButtonSpinner, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2\",\n                children: \"Signing in...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : 'Sign In'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full border-t border-gray-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative flex justify-center text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-2 bg-white text-gray-500\",\n                children: \"Need help?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"text-sm text-blue-600 hover:text-blue-500\",\n              onClick: () => {\n                // TODO: Implement forgot password functionality\n                alert('Forgot password functionality will be implemented by the backend team.');\n              },\n              children: \"Forgot your password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-medium text-yellow-800 mb-3\",\n          children: \"Demo Credentials (Development Only)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-yellow-700 space-y-1 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Citizen:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 16\n            }, this), \" citizen@demo.com / password123\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Responder:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 16\n            }, this), \" responder@demo.com / password123\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Hospital:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 16\n            }, this), \" hospital@demo.com / password123\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t border-yellow-200 pt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-yellow-800 mb-2\",\n            children: \"Quick Demo Access:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                // Clear any existing auth data first\n                localStorage.clear();\n                setFormData({\n                  email: 'citizen@demo.com',\n                  password: 'password123',\n                  role: 'citizen'\n                });\n                setTimeout(() => {\n                  handleSubmit({\n                    preventDefault: () => {}\n                  });\n                }, 100);\n              },\n              className: \"w-full px-3 py-2 bg-blue-500 text-white text-xs rounded hover:bg-blue-600\",\n              children: \"\\uD83E\\uDDD1\\u200D\\uD83D\\uDCBC Access Citizen Portal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                // Clear any existing auth data first\n                localStorage.clear();\n                setFormData({\n                  email: 'responder@demo.com',\n                  password: 'password123',\n                  role: 'responder'\n                });\n                setTimeout(() => {\n                  handleSubmit({\n                    preventDefault: () => {}\n                  });\n                }, 100);\n              },\n              className: \"w-full px-3 py-2 bg-green-500 text-white text-xs rounded hover:bg-green-600\",\n              children: \"\\uD83D\\uDE91 Access Responder Portal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                // Clear any existing auth data first\n                localStorage.clear();\n                setFormData({\n                  email: 'hospital@demo.com',\n                  password: 'password123',\n                  role: 'hospital'\n                });\n                setTimeout(() => {\n                  handleSubmit({\n                    preventDefault: () => {}\n                  });\n                }, 100);\n              },\n              className: \"w-full px-3 py-2 bg-purple-500 text-white text-xs rounded hover:bg-purple-600\",\n              children: \"\\uD83C\\uDFE5 Access Hospital Portal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                localStorage.clear();\n                window.location.reload();\n              },\n              className: \"w-full px-3 py-2 bg-red-400 text-white text-xs rounded hover:bg-red-500 mt-2\",\n              children: \"\\uD83D\\uDD04 Clear All Data & Refresh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"m+7910ZsmwdrzC3X0l5Y+Tzp5z0=\", false, function () {\n  return [useNavigate, useLocation, useAuth];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","useAuth","AuthInput","Spinner","ButtonSpinner","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginPage","_s","navigate","location","login","isAuthenticated","isLoading","error","clearError","formData","setFormData","email","password","role","formErrors","setFormErrors","isSubmitting","setIsSubmitting","_location$state","_location$state$from","from","state","pathname","localStorage","getItem","handleInputChange","e","name","value","target","prev","handleRoleChange","validateForm","errors","test","length","handleSubmit","preventDefault","Object","keys","result","success","console","log","err","roleOptions","label","description","className","children","size","text","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","map","option","onClick","type","checked","onChange","placeholder","required","disabled","alert","clear","setTimeout","window","reload","_c","$RefreshReg$"],"sources":["C:/Users/sriam/guardiannet-frontend/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport AuthInput from '../components/AuthInput';\r\nimport Spinner, { ButtonSpinner } from '../components/Spinner';\r\n\r\nconst LoginPage = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { login, isAuthenticated, isLoading, error, clearError } = useAuth();\r\n\r\n  // Form state\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n    role: 'citizen'\r\n  });\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  // Redirect if already authenticated\r\n  useEffect(() => {\r\n    if (isAuthenticated && !isLoading) {\r\n      const from = location.state?.from?.pathname;\r\n      const role = localStorage.getItem('guardiannet_role');\r\n      \r\n      // Redirect based on role\r\n      if (from) {\r\n        navigate(from);\r\n      } else {\r\n        switch (role) {\r\n          case 'citizen':\r\n            navigate('/citizen/sos');\r\n            break;\r\n          case 'responder':\r\n            navigate('/responder/dashboard');\r\n            break;\r\n          case 'hospital':\r\n            navigate('/hospital/dashboard');\r\n            break;\r\n          default:\r\n            navigate('/');\r\n        }\r\n      }\r\n    }\r\n  }, [isAuthenticated, isLoading, navigate, location]);\r\n\r\n  // Handle input changes\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    \r\n    // Clear field-specific error\r\n    if (formErrors[name]) {\r\n      setFormErrors(prev => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n    \r\n    // Clear general error\r\n    if (error) {\r\n      clearError();\r\n    }\r\n  };\r\n\r\n  // Handle role selection\r\n  const handleRoleChange = (role) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      role\r\n    }));\r\n    clearError();\r\n  };\r\n\r\n  // Form validation\r\n  const validateForm = () => {\r\n    const errors = {};\r\n\r\n    if (!formData.email) {\r\n      errors.email = 'Email is required';\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\r\n      errors.email = 'Email is invalid';\r\n    }\r\n\r\n    if (!formData.password) {\r\n      errors.password = 'Password is required';\r\n    } else if (formData.password.length < 6) {\r\n      errors.password = 'Password must be at least 6 characters';\r\n    }\r\n\r\n    if (!formData.role) {\r\n      errors.role = 'Please select a role';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    const errors = validateForm();\r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setFormErrors({});\r\n\r\n    try {\r\n      const result = await login(formData.email, formData.password, formData.role);\r\n      \r\n      if (result.success) {\r\n        // Navigation will be handled by the useEffect hook\r\n        console.log('Login successful');\r\n      }\r\n    } catch (err) {\r\n      console.error('Login error:', err);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Role options\r\n  const roleOptions = [\r\n    { value: 'citizen', label: 'Citizen', description: 'Report emergencies and track response' },\r\n    { value: 'responder', label: 'Emergency Responder', description: 'Receive and respond to emergency alerts' },\r\n    { value: 'hospital', label: 'Hospital Staff', description: 'Manage resources and incoming patients' }\r\n  ];\r\n\r\n  // Show loading spinner while checking authentication\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <Spinner size=\"large\" text=\"Loading...\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full space-y-8\">\r\n        {/* Header */}\r\n        <div className=\"text-center\">\r\n          <div className=\"mx-auto h-20 w-20 bg-red-600 rounded-full flex items-center justify-center mb-6\">\r\n            <span className=\"text-3xl text-white\">üö®</span>\r\n          </div>\r\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n            GuardianNet\r\n          </h2>\r\n          <p className=\"text-lg text-gray-600\">\r\n            Unified Emergency Response System\r\n          </p>\r\n          <p className=\"text-sm text-gray-500 mt-2\">\r\n            Sign in to access your portal\r\n          </p>\r\n        </div>\r\n\r\n        {/* Login Form */}\r\n        <div className=\"bg-white shadow-xl rounded-lg p-8\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            \r\n            {/* Role Selection */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                Select your role <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <div className=\"space-y-3\">\r\n                {roleOptions.map((option) => (\r\n                  <div\r\n                    key={option.value}\r\n                    className={`\r\n                      relative rounded-lg border-2 p-4 cursor-pointer transition-all\r\n                      ${formData.role === option.value\r\n                        ? 'border-blue-500 bg-blue-50'\r\n                        : 'border-gray-200 hover:border-gray-300'\r\n                      }\r\n                    `}\r\n                    onClick={() => handleRoleChange(option.value)}\r\n                  >\r\n                    <div className=\"flex items-start\">\r\n                      <div className=\"flex items-center h-5\">\r\n                        <input\r\n                          type=\"radio\"\r\n                          name=\"role\"\r\n                          value={option.value}\r\n                          checked={formData.role === option.value}\r\n                          onChange={() => handleRoleChange(option.value)}\r\n                          className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"ml-3\">\r\n                        <label className=\"text-sm font-medium text-gray-900 cursor-pointer\">\r\n                          {option.label}\r\n                        </label>\r\n                        <p className=\"text-xs text-gray-500 mt-1\">\r\n                          {option.description}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              {formErrors.role && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{formErrors.role}</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Email Input */}\r\n            <AuthInput\r\n              label=\"Email Address\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Enter your email\"\r\n              value={formData.email}\r\n              onChange={handleInputChange}\r\n              error={formErrors.email}\r\n              required\r\n              disabled={isSubmitting}\r\n            />\r\n\r\n            {/* Password Input */}\r\n            <AuthInput\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Enter your password\"\r\n              value={formData.password}\r\n              onChange={handleInputChange}\r\n              error={formErrors.password}\r\n              required\r\n              disabled={isSubmitting}\r\n            />\r\n\r\n            {/* Global Error Display */}\r\n            {error && (\r\n              <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\r\n                <div className=\"flex\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <span className=\"text-red-400\">‚ö†Ô∏è</span>\r\n                  </div>\r\n                  <div className=\"ml-3\">\r\n                    <h3 className=\"text-sm font-medium text-red-800\">\r\n                      Login Failed\r\n                    </h3>\r\n                    <p className=\"text-sm text-red-700 mt-1\">\r\n                      {error}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Submit Button */}\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className={`\r\n                w-full flex justify-center items-center py-3 px-4 border border-transparent \r\n                rounded-md shadow-sm text-sm font-medium text-white \r\n                transition-colors duration-200\r\n                ${isSubmitting\r\n                  ? 'bg-gray-400 cursor-not-allowed'\r\n                  : 'bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500'\r\n                }\r\n              `}\r\n            >\r\n              {isSubmitting ? (\r\n                <>\r\n                  <ButtonSpinner />\r\n                  <span className=\"ml-2\">Signing in...</span>\r\n                </>\r\n              ) : (\r\n                'Sign In'\r\n              )}\r\n            </button>\r\n          </form>\r\n\r\n          {/* Additional Links */}\r\n          <div className=\"mt-6\">\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-0 flex items-center\">\r\n                <div className=\"w-full border-t border-gray-300\" />\r\n              </div>\r\n              <div className=\"relative flex justify-center text-sm\">\r\n                <span className=\"px-2 bg-white text-gray-500\">\r\n                  Need help?\r\n                </span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"mt-4 text-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"text-sm text-blue-600 hover:text-blue-500\"\r\n                onClick={() => {\r\n                  // TODO: Implement forgot password functionality\r\n                  alert('Forgot password functionality will be implemented by the backend team.');\r\n                }}\r\n              >\r\n                Forgot your password?\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Demo Credentials */}\r\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n          <h3 className=\"text-sm font-medium text-yellow-800 mb-3\">\r\n            Demo Credentials (Development Only)\r\n          </h3>\r\n          <div className=\"text-xs text-yellow-700 space-y-1 mb-4\">\r\n            <p><strong>Citizen:</strong> citizen@demo.com / password123</p>\r\n            <p><strong>Responder:</strong> responder@demo.com / password123</p>\r\n            <p><strong>Hospital:</strong> hospital@demo.com / password123</p>\r\n          </div>\r\n          \r\n          {/* Quick Access Buttons */}\r\n          <div className=\"border-t border-yellow-200 pt-3\">\r\n            <h4 className=\"text-sm font-medium text-yellow-800 mb-2\">Quick Demo Access:</h4>\r\n            <div className=\"space-y-2\">\r\n              <button\r\n                onClick={() => {\r\n                  // Clear any existing auth data first\r\n                  localStorage.clear();\r\n                  setFormData({ email: 'citizen@demo.com', password: 'password123', role: 'citizen' });\r\n                  setTimeout(() => {\r\n                    handleSubmit({ preventDefault: () => {} });\r\n                  }, 100);\r\n                }}\r\n                className=\"w-full px-3 py-2 bg-blue-500 text-white text-xs rounded hover:bg-blue-600\"\r\n              >\r\n                üßë‚Äçüíº Access Citizen Portal\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  // Clear any existing auth data first\r\n                  localStorage.clear();\r\n                  setFormData({ email: 'responder@demo.com', password: 'password123', role: 'responder' });\r\n                  setTimeout(() => {\r\n                    handleSubmit({ preventDefault: () => {} });\r\n                  }, 100);\r\n                }}\r\n                className=\"w-full px-3 py-2 bg-green-500 text-white text-xs rounded hover:bg-green-600\"\r\n              >\r\n                üöë Access Responder Portal\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  // Clear any existing auth data first\r\n                  localStorage.clear();\r\n                  setFormData({ email: 'hospital@demo.com', password: 'password123', role: 'hospital' });\r\n                  setTimeout(() => {\r\n                    handleSubmit({ preventDefault: () => {} });\r\n                  }, 100);\r\n                }}\r\n                className=\"w-full px-3 py-2 bg-purple-500 text-white text-xs rounded hover:bg-purple-600\"\r\n              >\r\n                üè• Access Hospital Portal\r\n              </button>\r\n              \r\n              {/* Debug: Clear Storage Button */}\r\n              <button\r\n                onClick={() => {\r\n                  localStorage.clear();\r\n                  window.location.reload();\r\n                }}\r\n                className=\"w-full px-3 py-2 bg-red-400 text-white text-xs rounded hover:bg-red-500 mt-2\"\r\n              >\r\n                üîÑ Clear All Data & Refresh\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SAASC,OAAO,QAAQ,wBAAwB;AAChD,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,OAAO,IAAIC,aAAa,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/D,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAMC,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAC9B,MAAMa,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEa,KAAK;IAAEC,eAAe;IAAEC,SAAS;IAAEC,KAAK;IAAEC;EAAW,CAAC,GAAGhB,OAAO,CAAC,CAAC;;EAE1E;EACA,MAAM,CAACiB,QAAQ,EAAEC,WAAW,CAAC,GAAGtB,QAAQ,CAAC;IACvCuB,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,IAAI,EAAE;EACR,CAAC,CAAC;EACF,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG3B,QAAQ,CAAC,CAAC,CAAC,CAAC;EAChD,MAAM,CAAC4B,YAAY,EAAEC,eAAe,CAAC,GAAG7B,QAAQ,CAAC,KAAK,CAAC;;EAEvD;EACAC,SAAS,CAAC,MAAM;IACd,IAAIgB,eAAe,IAAI,CAACC,SAAS,EAAE;MAAA,IAAAY,eAAA,EAAAC,oBAAA;MACjC,MAAMC,IAAI,IAAAF,eAAA,GAAGf,QAAQ,CAACkB,KAAK,cAAAH,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBE,IAAI,cAAAD,oBAAA,uBAApBA,oBAAA,CAAsBG,QAAQ;MAC3C,MAAMT,IAAI,GAAGU,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC;;MAErD;MACA,IAAIJ,IAAI,EAAE;QACRlB,QAAQ,CAACkB,IAAI,CAAC;MAChB,CAAC,MAAM;QACL,QAAQP,IAAI;UACV,KAAK,SAAS;YACZX,QAAQ,CAAC,cAAc,CAAC;YACxB;UACF,KAAK,WAAW;YACdA,QAAQ,CAAC,sBAAsB,CAAC;YAChC;UACF,KAAK,UAAU;YACbA,QAAQ,CAAC,qBAAqB,CAAC;YAC/B;UACF;YACEA,QAAQ,CAAC,GAAG,CAAC;QACjB;MACF;IACF;EACF,CAAC,EAAE,CAACG,eAAe,EAAEC,SAAS,EAAEJ,QAAQ,EAAEC,QAAQ,CAAC,CAAC;;EAEpD;EACA,MAAMsB,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCnB,WAAW,CAACoB,IAAI,KAAK;MACnB,GAAGA,IAAI;MACP,CAACH,IAAI,GAAGC;IACV,CAAC,CAAC,CAAC;;IAEH;IACA,IAAId,UAAU,CAACa,IAAI,CAAC,EAAE;MACpBZ,aAAa,CAACe,IAAI,KAAK;QACrB,GAAGA,IAAI;QACP,CAACH,IAAI,GAAG;MACV,CAAC,CAAC,CAAC;IACL;;IAEA;IACA,IAAIpB,KAAK,EAAE;MACTC,UAAU,CAAC,CAAC;IACd;EACF,CAAC;;EAED;EACA,MAAMuB,gBAAgB,GAAIlB,IAAI,IAAK;IACjCH,WAAW,CAACoB,IAAI,KAAK;MACnB,GAAGA,IAAI;MACPjB;IACF,CAAC,CAAC,CAAC;IACHL,UAAU,CAAC,CAAC;EACd,CAAC;;EAED;EACA,MAAMwB,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,MAAM,GAAG,CAAC,CAAC;IAEjB,IAAI,CAACxB,QAAQ,CAACE,KAAK,EAAE;MACnBsB,MAAM,CAACtB,KAAK,GAAG,mBAAmB;IACpC,CAAC,MAAM,IAAI,CAAC,cAAc,CAACuB,IAAI,CAACzB,QAAQ,CAACE,KAAK,CAAC,EAAE;MAC/CsB,MAAM,CAACtB,KAAK,GAAG,kBAAkB;IACnC;IAEA,IAAI,CAACF,QAAQ,CAACG,QAAQ,EAAE;MACtBqB,MAAM,CAACrB,QAAQ,GAAG,sBAAsB;IAC1C,CAAC,MAAM,IAAIH,QAAQ,CAACG,QAAQ,CAACuB,MAAM,GAAG,CAAC,EAAE;MACvCF,MAAM,CAACrB,QAAQ,GAAG,wCAAwC;IAC5D;IAEA,IAAI,CAACH,QAAQ,CAACI,IAAI,EAAE;MAClBoB,MAAM,CAACpB,IAAI,GAAG,sBAAsB;IACtC;IAEA,OAAOoB,MAAM;EACf,CAAC;;EAED;EACA,MAAMG,YAAY,GAAG,MAAOV,CAAC,IAAK;IAChCA,CAAC,CAACW,cAAc,CAAC,CAAC;IAElB,MAAMJ,MAAM,GAAGD,YAAY,CAAC,CAAC;IAC7B,IAAIM,MAAM,CAACC,IAAI,CAACN,MAAM,CAAC,CAACE,MAAM,GAAG,CAAC,EAAE;MAClCpB,aAAa,CAACkB,MAAM,CAAC;MACrB;IACF;IAEAhB,eAAe,CAAC,IAAI,CAAC;IACrBF,aAAa,CAAC,CAAC,CAAC,CAAC;IAEjB,IAAI;MACF,MAAMyB,MAAM,GAAG,MAAMpC,KAAK,CAACK,QAAQ,CAACE,KAAK,EAAEF,QAAQ,CAACG,QAAQ,EAAEH,QAAQ,CAACI,IAAI,CAAC;MAE5E,IAAI2B,MAAM,CAACC,OAAO,EAAE;QAClB;QACAC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MACjC;IACF,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZF,OAAO,CAACnC,KAAK,CAAC,cAAc,EAAEqC,GAAG,CAAC;IACpC,CAAC,SAAS;MACR3B,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;;EAED;EACA,MAAM4B,WAAW,GAAG,CAClB;IAAEjB,KAAK,EAAE,SAAS;IAAEkB,KAAK,EAAE,SAAS;IAAEC,WAAW,EAAE;EAAwC,CAAC,EAC5F;IAAEnB,KAAK,EAAE,WAAW;IAAEkB,KAAK,EAAE,qBAAqB;IAAEC,WAAW,EAAE;EAA0C,CAAC,EAC5G;IAAEnB,KAAK,EAAE,UAAU;IAAEkB,KAAK,EAAE,gBAAgB;IAAEC,WAAW,EAAE;EAAyC,CAAC,CACtG;;EAED;EACA,IAAIzC,SAAS,EAAE;IACb,oBACET,OAAA;MAAKmD,SAAS,EAAC,0DAA0D;MAAAC,QAAA,eACvEpD,OAAA,CAACH,OAAO;QAACwD,IAAI,EAAC,OAAO;QAACC,IAAI,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvC,CAAC;EAEV;EAEA,oBACE1D,OAAA;IAAKmD,SAAS,EAAC,uHAAuH;IAAAC,QAAA,eACpIpD,OAAA;MAAKmD,SAAS,EAAC,2BAA2B;MAAAC,QAAA,gBAExCpD,OAAA;QAAKmD,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BpD,OAAA;UAAKmD,SAAS,EAAC,iFAAiF;UAAAC,QAAA,eAC9FpD,OAAA;YAAMmD,SAAS,EAAC,qBAAqB;YAAAC,QAAA,EAAC;UAAE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC,eACN1D,OAAA;UAAImD,SAAS,EAAC,uCAAuC;UAAAC,QAAA,EAAC;QAEtD;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACL1D,OAAA;UAAGmD,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAErC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJ1D,OAAA;UAAGmD,SAAS,EAAC,4BAA4B;UAAAC,QAAA,EAAC;QAE1C;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eAGN1D,OAAA;QAAKmD,SAAS,EAAC,mCAAmC;QAAAC,QAAA,gBAChDpD,OAAA;UAAM2D,QAAQ,EAAEpB,YAAa;UAACY,SAAS,EAAC,WAAW;UAAAC,QAAA,gBAGjDpD,OAAA;YAAAoD,QAAA,gBACEpD,OAAA;cAAOmD,SAAS,EAAC,8CAA8C;cAAAC,QAAA,GAAC,mBAC7C,eAAApD,OAAA;gBAAMmD,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAC;cAAC;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnD,CAAC,eACR1D,OAAA;cAAKmD,SAAS,EAAC,WAAW;cAAAC,QAAA,EACvBJ,WAAW,CAACY,GAAG,CAAEC,MAAM,iBACtB7D,OAAA;gBAEEmD,SAAS,EAAE;AAC/B;AACA,wBAAwBvC,QAAQ,CAACI,IAAI,KAAK6C,MAAM,CAAC9B,KAAK,GAC5B,4BAA4B,GAC5B,uCAAuC;AACjE,qBACsB;gBACF+B,OAAO,EAAEA,CAAA,KAAM5B,gBAAgB,CAAC2B,MAAM,CAAC9B,KAAK,CAAE;gBAAAqB,QAAA,eAE9CpD,OAAA;kBAAKmD,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,gBAC/BpD,OAAA;oBAAKmD,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,eACpCpD,OAAA;sBACE+D,IAAI,EAAC,OAAO;sBACZjC,IAAI,EAAC,MAAM;sBACXC,KAAK,EAAE8B,MAAM,CAAC9B,KAAM;sBACpBiC,OAAO,EAAEpD,QAAQ,CAACI,IAAI,KAAK6C,MAAM,CAAC9B,KAAM;sBACxCkC,QAAQ,EAAEA,CAAA,KAAM/B,gBAAgB,CAAC2B,MAAM,CAAC9B,KAAK,CAAE;sBAC/CoB,SAAS,EAAC;oBAA2D;sBAAAI,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACtE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC,eACN1D,OAAA;oBAAKmD,SAAS,EAAC,MAAM;oBAAAC,QAAA,gBACnBpD,OAAA;sBAAOmD,SAAS,EAAC,kDAAkD;sBAAAC,QAAA,EAChES,MAAM,CAACZ;oBAAK;sBAAAM,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACR,CAAC,eACR1D,OAAA;sBAAGmD,SAAS,EAAC,4BAA4B;sBAAAC,QAAA,EACtCS,MAAM,CAACX;oBAAW;sBAAAK,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAClB,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACD,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC,GA7BDG,MAAM,CAAC9B,KAAK;gBAAAwB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OA8Bd,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,EACLzC,UAAU,CAACD,IAAI,iBACdhB,OAAA;cAAGmD,SAAS,EAAC,2BAA2B;cAAAC,QAAA,EAAEnC,UAAU,CAACD;YAAI;cAAAuC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAC9D;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAGN1D,OAAA,CAACJ,SAAS;YACRqD,KAAK,EAAC,eAAe;YACrBc,IAAI,EAAC,OAAO;YACZjC,IAAI,EAAC,OAAO;YACZoC,WAAW,EAAC,kBAAkB;YAC9BnC,KAAK,EAAEnB,QAAQ,CAACE,KAAM;YACtBmD,QAAQ,EAAErC,iBAAkB;YAC5BlB,KAAK,EAAEO,UAAU,CAACH,KAAM;YACxBqD,QAAQ;YACRC,QAAQ,EAAEjD;UAAa;YAAAoC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC,eAGF1D,OAAA,CAACJ,SAAS;YACRqD,KAAK,EAAC,UAAU;YAChBc,IAAI,EAAC,UAAU;YACfjC,IAAI,EAAC,UAAU;YACfoC,WAAW,EAAC,qBAAqB;YACjCnC,KAAK,EAAEnB,QAAQ,CAACG,QAAS;YACzBkD,QAAQ,EAAErC,iBAAkB;YAC5BlB,KAAK,EAAEO,UAAU,CAACF,QAAS;YAC3BoD,QAAQ;YACRC,QAAQ,EAAEjD;UAAa;YAAAoC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC,EAGDhD,KAAK,iBACJV,OAAA;YAAKmD,SAAS,EAAC,gDAAgD;YAAAC,QAAA,eAC7DpD,OAAA;cAAKmD,SAAS,EAAC,MAAM;cAAAC,QAAA,gBACnBpD,OAAA;gBAAKmD,SAAS,EAAC,eAAe;gBAAAC,QAAA,eAC5BpD,OAAA;kBAAMmD,SAAS,EAAC,cAAc;kBAAAC,QAAA,EAAC;gBAAE;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrC,CAAC,eACN1D,OAAA;gBAAKmD,SAAS,EAAC,MAAM;gBAAAC,QAAA,gBACnBpD,OAAA;kBAAImD,SAAS,EAAC,kCAAkC;kBAAAC,QAAA,EAAC;gBAEjD;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACL1D,OAAA;kBAAGmD,SAAS,EAAC,2BAA2B;kBAAAC,QAAA,EACrC1C;gBAAK;kBAAA6C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,eAGD1D,OAAA;YACE+D,IAAI,EAAC,QAAQ;YACbK,QAAQ,EAAEjD,YAAa;YACvBgC,SAAS,EAAE;AACzB;AACA;AACA;AACA,kBAAkBhC,YAAY,GACV,gCAAgC,GAChC,uGAAuG;AAC3H,eACgB;YAAAiC,QAAA,EAEDjC,YAAY,gBACXnB,OAAA,CAAAE,SAAA;cAAAkD,QAAA,gBACEpD,OAAA,CAACF,aAAa;gBAAAyD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACjB1D,OAAA;gBAAMmD,SAAS,EAAC,MAAM;gBAAAC,QAAA,EAAC;cAAa;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA,eAC3C,CAAC,GAEH;UACD;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGP1D,OAAA;UAAKmD,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnBpD,OAAA;YAAKmD,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvBpD,OAAA;cAAKmD,SAAS,EAAC,oCAAoC;cAAAC,QAAA,eACjDpD,OAAA;gBAAKmD,SAAS,EAAC;cAAiC;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC,eACN1D,OAAA;cAAKmD,SAAS,EAAC,sCAAsC;cAAAC,QAAA,eACnDpD,OAAA;gBAAMmD,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,EAAC;cAE9C;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAEN1D,OAAA;YAAKmD,SAAS,EAAC,kBAAkB;YAAAC,QAAA,eAC/BpD,OAAA;cACE+D,IAAI,EAAC,QAAQ;cACbZ,SAAS,EAAC,2CAA2C;cACrDW,OAAO,EAAEA,CAAA,KAAM;gBACb;gBACAO,KAAK,CAAC,wEAAwE,CAAC;cACjF,CAAE;cAAAjB,QAAA,EACH;YAED;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGN1D,OAAA;QAAKmD,SAAS,EAAC,sDAAsD;QAAAC,QAAA,gBACnEpD,OAAA;UAAImD,SAAS,EAAC,0CAA0C;UAAAC,QAAA,EAAC;QAEzD;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACL1D,OAAA;UAAKmD,SAAS,EAAC,wCAAwC;UAAAC,QAAA,gBACrDpD,OAAA;YAAAoD,QAAA,gBAAGpD,OAAA;cAAAoD,QAAA,EAAQ;YAAQ;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,mCAA+B;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC/D1D,OAAA;YAAAoD,QAAA,gBAAGpD,OAAA;cAAAoD,QAAA,EAAQ;YAAU;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,qCAAiC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACnE1D,OAAA;YAAAoD,QAAA,gBAAGpD,OAAA;cAAAoD,QAAA,EAAQ;YAAS;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,oCAAgC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9D,CAAC,eAGN1D,OAAA;UAAKmD,SAAS,EAAC,iCAAiC;UAAAC,QAAA,gBAC9CpD,OAAA;YAAImD,SAAS,EAAC,0CAA0C;YAAAC,QAAA,EAAC;UAAkB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChF1D,OAAA;YAAKmD,SAAS,EAAC,WAAW;YAAAC,QAAA,gBACxBpD,OAAA;cACE8D,OAAO,EAAEA,CAAA,KAAM;gBACb;gBACApC,YAAY,CAAC4C,KAAK,CAAC,CAAC;gBACpBzD,WAAW,CAAC;kBAAEC,KAAK,EAAE,kBAAkB;kBAAEC,QAAQ,EAAE,aAAa;kBAAEC,IAAI,EAAE;gBAAU,CAAC,CAAC;gBACpFuD,UAAU,CAAC,MAAM;kBACfhC,YAAY,CAAC;oBAAEC,cAAc,EAAEA,CAAA,KAAM,CAAC;kBAAE,CAAC,CAAC;gBAC5C,CAAC,EAAE,GAAG,CAAC;cACT,CAAE;cACFW,SAAS,EAAC,2EAA2E;cAAAC,QAAA,EACtF;YAED;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT1D,OAAA;cACE8D,OAAO,EAAEA,CAAA,KAAM;gBACb;gBACApC,YAAY,CAAC4C,KAAK,CAAC,CAAC;gBACpBzD,WAAW,CAAC;kBAAEC,KAAK,EAAE,oBAAoB;kBAAEC,QAAQ,EAAE,aAAa;kBAAEC,IAAI,EAAE;gBAAY,CAAC,CAAC;gBACxFuD,UAAU,CAAC,MAAM;kBACfhC,YAAY,CAAC;oBAAEC,cAAc,EAAEA,CAAA,KAAM,CAAC;kBAAE,CAAC,CAAC;gBAC5C,CAAC,EAAE,GAAG,CAAC;cACT,CAAE;cACFW,SAAS,EAAC,6EAA6E;cAAAC,QAAA,EACxF;YAED;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT1D,OAAA;cACE8D,OAAO,EAAEA,CAAA,KAAM;gBACb;gBACApC,YAAY,CAAC4C,KAAK,CAAC,CAAC;gBACpBzD,WAAW,CAAC;kBAAEC,KAAK,EAAE,mBAAmB;kBAAEC,QAAQ,EAAE,aAAa;kBAAEC,IAAI,EAAE;gBAAW,CAAC,CAAC;gBACtFuD,UAAU,CAAC,MAAM;kBACfhC,YAAY,CAAC;oBAAEC,cAAc,EAAEA,CAAA,KAAM,CAAC;kBAAE,CAAC,CAAC;gBAC5C,CAAC,EAAE,GAAG,CAAC;cACT,CAAE;cACFW,SAAS,EAAC,+EAA+E;cAAAC,QAAA,EAC1F;YAED;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAGT1D,OAAA;cACE8D,OAAO,EAAEA,CAAA,KAAM;gBACbpC,YAAY,CAAC4C,KAAK,CAAC,CAAC;gBACpBE,MAAM,CAAClE,QAAQ,CAACmE,MAAM,CAAC,CAAC;cAC1B,CAAE;cACFtB,SAAS,EAAC,8EAA8E;cAAAC,QAAA,EACzF;YAED;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACtD,EAAA,CAxXID,SAAS;EAAA,QACIV,WAAW,EACXC,WAAW,EACqCC,OAAO;AAAA;AAAA+E,EAAA,GAHpEvE,SAAS;AA0Xf,eAAeA,SAAS;AAAC,IAAAuE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}